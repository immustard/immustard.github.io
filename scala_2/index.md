# Scalaå˜é‡å’Œæ•°æ®ç±»åž‹


&lt;!--more--&gt;



## æ³¨é‡Š

Scala çš„æ³¨é‡Šå’Œ Java çš„å®Œå…¨ä¸€æ ·:

```java
// 1. å•è¡Œæ³¨é‡Š

/* 2. å¤šè¡Œæ³¨é‡Š */

/**
 * 3. æ–‡æ¡£æ³¨é‡Š
 */
```



## å˜é‡å’Œå¸¸é‡



### åŸºæœ¬è¯­æ³•

```scala
// var å˜é‡å [: å˜é‡ç±»åž‹] = åˆå§‹å€¼
var i: Int = 10
// val å¸¸é‡å [: å¸¸é‡ç±»åž‹] = åˆå§‹å€¼
val j: Int = 20
```

&gt; * èƒ½ç”¨å¸¸é‡çš„åœ°æ–¹å°±ä¸è¦ç”¨å˜é‡

&gt; 1. å£°æ˜Žå˜(å¸¸)é‡æ—¶, ç±»åž‹å¯ä»¥çœç•¥, ç¼–è¯‘å™¨è‡ªåŠ¨æŽ¨å¯¼, å³**ç±»åž‹æŽ¨å¯¼**
&gt; 2. ç±»åž‹ç¡®å®šåŽ, å°±ä¸èƒ½æ›´æ”¹, å› ä¸º Scala æ˜¯å¼ºæ•°æ®ç±»åž‹è¯­éŸ³
&gt; 3. å˜é‡å£°æ˜Žæ—¶, å¿…é¡»æœ‰åˆå§‹å€¼



## æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ



### å‘½åè§„èŒƒ

Scala ä¸­çš„æ ‡è¯†ç¬¦å£°æ˜Ž, **åŸºæœ¬å’ŒJavaæ˜¯ä¸€è‡´çš„**, ä½†æ˜¯ç»†èŠ‚ä¸Šä¼šæœ‰å˜åŒ–: 

1. ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´, åŽæŽ¥å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿
2. **ä»¥æ“ä½œç¬¦å¼€å¤´, ä¸”åªåŒ…å«æ“ä½œç¬¦(&#43;-*/#!ç­‰)**
3. **ç”¨åå¼•å·\`...\`åŒ…æ‹¬çš„ä»»æ„å­—ç¬¦ä¸², å³ä½¿æ˜¯ Scala å…³é”®å­—(39ä¸ª)ä¹Ÿå¯ä»¥**
   * package, import, class, **object**, **trait**, extends, **with**, type, forSom
   * private, protected, abstract, **sealed**, final, **implicit**, lazy, override
   * try, catch, finally, throw
   * if, else, **match**, case, do, while, for, return, **yield**
   * **def**, **var**, **val**
   * this, super
   * new
   * true, false, null



&gt; çœ‹å‡ ä¸ªç‰¹æ®Šä¸€ç‚¹çš„ðŸŒ°
&gt;
&gt; ```scala
&gt; object Hello {
&gt; 
&gt;   def main(args: Array[String]): Unit = {
&gt;     // ok å› ä¸ºåœ¨ Scala ä¸­ Int æ˜¯é¢„å®šä¹‰çš„å­—ç¬¦, ä¸æ˜¯å…³é”®å­—, ä½†æ˜¯ä¸æŽ¨è
&gt;     var Int: String = &#34;&#34;
&gt;     // ok å•ç‹¬ä¸€ä¸ªä¸‹åˆ’çº¿ä¸å¯ä½œä¸ºæ ‡è¯†ç¬¦, å› ä¸º _ è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–¹æ³•
&gt;     var _: String = &#34;str&#34;
&gt;     // ä¼šæŠ¥é”™
&gt;     println(_)
&gt; 
&gt;     // ok
&gt;     var -&#43;*/#! : String = &#34;&#34;
&gt;     // error ä»¥æ“ä½œç¬¦å¼€å¦, å¿…éƒ½æ˜¯æ“ä½œç¬¦
&gt;     var -_*/#!1 : String = &#34;&#34;
&gt;       
&gt;     // error
&gt;     var if: String = &#34;&#34;
&gt;     // ok
&gt;     var `if`: String = &#34;&#34;
&gt;   }
&gt;   
&gt; }
&gt; ```



## å­—ç¬¦ä¸²è¾“å‡º



### åŸºæœ¬è¯­æ³•

1. å­—ç¬¦ä¸², é€šè¿‡`&#43;`å·è¿žæŽ¥
2. `printf`ç”¨æ³•: å­—ç¬¦ä¸²ï¼Œé€šè¿‡`%`ä¼ å€¼ã€‚
3. å­—ç¬¦ä¸²æ¨¡æ¿(æ’å€¼å­—ç¬¦ä¸²): é€šè¿‡`$`èŽ·å–å˜é‡å€¼

&gt; æ¥çœ‹çœ‹ðŸŒ°:
&gt;
&gt; ```scala
&gt; object Hello {
&gt; 
&gt;   def main(args: Array[String]): Unit = {
&gt;     val name = &#34;mustard&#34;
&gt;     val age = 18
&gt; 
&gt;     printf(&#34;name=%s, age=%d&#34;, name, age)
&gt; 
&gt;     /**
&gt;      * å¤šè¡Œå­—ç¬¦ä¸²ï¼Œ åœ¨ Scala ä¸­ï¼Œåˆ©ç”¨ä¸‰ä¸ªåŒå¼•å·åŒ…å›´å¤šè¡Œå­—ç¬¦ä¸²å°±å¯ä»¥å®žçŽ°ã€‚
&gt;      * è¾“å…¥çš„å†…å®¹ï¼Œå¸¦æœ‰ç©ºæ ¼ã€ \t ä¹‹ç±»ï¼Œå¯¼è‡´æ¯ä¸€è¡Œçš„å¼€å§‹ä½ç½®ä¸èƒ½æ•´æ´å¯¹é½ã€‚
&gt;      * åº”ç”¨ scala çš„ stripMargin æ–¹æ³•ï¼Œåœ¨ scala ä¸­ stripMargin é»˜è®¤æ˜¯ &#34;|&#34; ä½œä¸ºè¿žæŽ¥ç¬¦ï¼Œ
&gt;      * åœ¨å¤šè¡Œæ¢è¡Œçš„è¡Œå¤´å‰é¢åŠ ä¸€ä¸ª &#34;|&#34; ç¬¦å·å³å¯ã€‚
&gt;      */
&gt;     val sql1 =
&gt;       &#34;&#34;&#34;
&gt;         |select
&gt;         |   name
&gt;         |   age
&gt;         |from user
&gt;         |where name = &#34;mustard&#34;
&gt;       &#34;&#34;&#34;.stripMargin
&gt;     println(sql1)
&gt; 
&gt;     // å¦‚æžœéœ€è¦å¯¹å˜é‡è¿›è¡Œè¿ç®—ï¼Œé‚£ä¹ˆå¯ä»¥åŠ  ${}
&gt;     val sql2 =
&gt;       s&#34;&#34;&#34;
&gt;          |select
&gt;          |   name
&gt;          |   age
&gt;          |from user
&gt;          |where name = &#34;$name&#34; and age = ${age &#43; 2}
&gt;       &#34;&#34;&#34;.stripMargin
&gt;     println(sql2)
&gt; 
&gt;     val s = s&#34;name=$name&#34;
&gt;     println(s)
&gt;   }
&gt; 
&gt; }
&gt; ```
&gt;
&gt; 



## æ•°æ®ç±»åž‹



### Javaæ•°æ®ç±»åž‹

å…ˆæ¥å›žé¡¾ä¸€ä¸‹ Java çš„æ•°æ®ç±»åž‹: 

1. åŸºæœ¬æ•°æ®ç±»åž‹(8ç§): `char`, `byte`, `short`, `int`, `long`, `float`, `double`, `bollean`
2. å¼•ç”¨ç±»åž‹: (å¯¹è±¡ç±»åž‹)



**ç”±äºŽ Java æœ‰åŸºæœ¬ç±»åž‹, å¹¶ä¸”åŸºæœ¬ç±»åž‹å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰çš„å¯¹è±¡, æ‰€ä»¥ Java è¯­è¨€å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰çš„é¢å‘å¯¹è±¡**. 

&gt; æ³¨æ„å“ˆ: Java ä¸­åŸºæœ¬ç±»åž‹å’Œå¼•ç”¨ç±»åž‹æ²¡æœ‰å…±åŒçš„ç¥–å…ˆ



### Scalaæ•°æ®ç±»åž‹

1. Scala ä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡, **éƒ½æ˜¯`Any`çš„å­ç±»**
2. Scala ä¸­æ•°æ®ç±»åž‹åˆ†ä¸ºä¸¤å¤§ç±»: æ•°å€¼ç±»åž‹ (`AnyVal`), å¼•ç”¨ç±»åž‹ (`AnyRef`), **ä½†æ˜¯éƒ½æ˜¯å¯¹è±¡**
3. Scala æ•°æ®ç±»åž‹ä»ç„¶éµå®ˆ**éšå¼è½¬æ¢** (ä½Žç²¾åº¦çš„å€¼å‘é«˜ç²¾åº¦çš„å€¼è‡ªåŠ¨è½¬æ¢)
4. Scala ä¸­çš„`StringOps`æ˜¯å¯¹ Java ä¸­çš„`String`å¢žå¼º
5. `Unit`: å¯¹åº” Java ä¸­çš„`void`, ç”¨äºŽæ–¹æ³•è¿”å›žå€¼çš„ä½ç½®, è¡¨ç¤ºæ–¹æ³•æ²¡æœ‰è¿”å›žå€¼. `Unit`æ˜¯ä¸€ä¸ªæ•°æ®ç±»åž‹, åªæœ‰ä¸€ä¸ªå¯¹è±¡å°±æ˜¯`()`. `Void`ä¸æ˜¯æ•°æ®ç±»åž‹, åªæ˜¯ä¸€ä¸ªå…³é”®å­—. 
6. `Null`æ˜¯ä¸€ä¸ªç±»åž‹, åªæœ‰ä¸€ä¸ªå¯¹è±¡å°±æ˜¯`null`. **å®ƒæ˜¯æ‰€æœ‰å¼•ç”¨ç±»åž‹(`AnyRef`)çš„å­ç±»**. 
7. `Nothing`: **æ˜¯æ‰€æœ‰æ•°æ®ç±»åž‹çš„å­ç±»**, ä¸»è¦ç”¨åœ¨ä¸€ä¸ªå‡½æ•°æ²¡æœ‰æ˜Žç¡®è¿”å›žå€¼æ—¶ä½¿ç”¨, å› ä¸ºè¿™æ ·å¯ä»¥æŠŠæŠ›å‡ºçš„è¿”å›žå€¼, è¿”å›žç»™ä»»ä½•çš„å˜é‡æˆ–è€…å‡½æ•°. 



#### æ•´æ•°ç±»åž‹

| æ•°æ®ç±»åž‹   | æè¿°                                                    |
| ---------- | ------------------------------------------------------- |
| `Byte[1]`  | 8ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°. æ•°å€¼åŒºé—´: -128 åˆ° 127                |
| `Short[2]` | 16ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°. æ•°å€¼åŒºé—´: -32768 åˆ° 32767           |
| `Int[4]`   | 32ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°. æ•°å€¼åŒºé—´: -2147483648 åˆ° 2147483647 |
| `Long[8]`  | 64ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°. æ•°å€¼åŒºé—´: -2^64 åˆ° 2^64-1           |

&gt; Scala çš„æ•´åž‹ï¼Œé»˜è®¤ä¸º`Int`åž‹ï¼Œå£°æ˜Ž`Long`åž‹ï¼Œé¡»åŽåŠ `l`æˆ–`L`



#### æµ®ç‚¹ç±»åž‹

| æ•°æ®ç±»åž‹    | æè¿° |
| ----------- | ---- |
| `FLoat[4]`  | 32ä½ |
| `Double[8]` | 64ä½ |

```scala
object TestDataType {
    def main(args: Array[String]): Unit = {
        // è¿™æ˜¯ä¸ª Float
        var n1 = 1.23456789f
        // è¿™æ˜¯ä¸ª Double
        var n2 = 1.23456789
    }
}
```



#### å­—ç¬¦ç±»åž‹ (Char)



#### å¸ƒå°”ç±»åž‹ (Boolean)

å  1 ä¸ªå­—èŠ‚



#### Unit ç±»åž‹ã€Null ç±»åž‹å’Œ Nothing ç±»åž‹

| æ•°æ®ç±»åž‹  | æè¿°                                                         |
| --------- | ------------------------------------------------------------ |
| `Unit`    | è¡¨ç¤ºæ— å€¼, å’Œå…¶ä»–è¯­è¨€ä¸­`void`ç­‰åŒ. ç”¨ä½œä¸è¿”å›žä»»ä½•ç»“æžœçš„æ–¹æ³•çš„ç»“æžœç±»åž‹. `Unit`åªæœ‰ä¸€ä¸ªå®žä¾‹: `()`, ä¸”æ²¡æœ‰å®žé™…æ„ä¹‰ |
| `Null`    | `null`, `Null`ç±»åž‹åªæœ‰ä¸€ä¸ªå®žä¾‹: `null`. **`Null`å¯ä»¥èµ‹å€¼ç»™ä»»æ„å¼•ç”¨ç±»åž‹(AnyRef), ä½†æ˜¯ä¸èƒ½èµ‹å€¼ç»™å€¼ç±»åž‹(AnyVal)** |
| `Nothing` | `Nothing`ç±»åž‹åœ¨ Scala çš„ç±»å±‚çº§æœ€ä½Žç«¯; å®ƒæ˜¯ä»»ä½•å…¶ä»–ç±»åž‹çš„å­ç±»åž‹. å½“ä¸€ä¸ªå‡½æ•°, ç¡®å®šæ²¡æœ‰æ­£å¸¸çš„è¿”å›žå€¼æ—¶, å¯ä»¥ç”¨`Nothing`æ¥æŒ‡å®šè¿”å›žç±»åž‹. |

&gt; `Nothing`çš„è¿™ç§æœºåˆ¶æœ‰ä¸€ä¸ªå¥½å¤„: å¯ä»¥æŠŠè¿”å›žçš„å€¼(å¼‚å¸¸)èµ‹ç»™å…¶å®ƒçš„å‡½æ•°æˆ–è€…å˜é‡(å…¼å®¹æ€§)

```scala
object TestDataType {
    def main(args: Array[String]): Unit = {
        var cat = new Cat()
        // æ­£ç¡®
        cat = null
        
        // é”™è¯¯
        var n1: Int = null
        
        def test(): Nothing = {
            throw new Exception()
        }
        
        test
    }
}
```



#### ç±»åž‹è½¬æ¢

* æ•°å€¼ç±»åž‹è‡ªåŠ¨è½¬æ¢: ç²¾åº¦å°çš„ç±»åž‹è‡ªåŠ¨è½¬æ¢ä¸ºç²¾åº¦å¤§çš„æ•°å€¼ç±»åž‹. (éšå¼è½¬æ¢)

  `Byte &lt; Short &lt; Int &lt; Long &lt; Float &lt; Double`

  1. è‡ªåŠ¨æå‡åŽŸåˆ™: æœ‰å¤šç§ç±»åž‹çš„æ•°æ®æ··åˆè¿ç®—æ—¶, é¦–å…ˆ**è‡ªåŠ¨å°†æ‰€æœ‰æ•°æ®è½¬æ¢æˆç²¾åº¦å¤§çš„æ•°æ®ç±»åž‹**, ç„¶åŽå†è®¡ç®—
  2. **æŠŠç²¾åº¦å¤§çš„æ•°å€¼ç±»åž‹èµ‹å€¼ç»™ç²¾åº¦å°çš„æ•°å€¼ç±»åž‹æ—¶, ä¼šæŠ¥é”™**
  3. (`byte`, `short`)å’Œ`char`ä¹‹é—´ä¸ä¼šç›¸äº’è‡ªåŠ¨è½¬æ¢
  4. `byte`,`short`,`char`ä¸‰è€…å¯ä»¥è®¡ç®—, **ä½†ä¼šå…ˆè½¬æ¢ä¸º`int`ç±»åž‹**

   	

* å¼ºåˆ¶ç±»åž‹è½¬æ¢

  å¯èƒ½é€ æˆç²¾åº¦é™ä½Žæˆ–æº¢å‡º, æ‰€ä»¥éœ€è¦ç‰¹åˆ«æ³¨æ„

  ```scala
  var num: Int = 2.7.toInt
  ```

* æ•°å€¼ç±»åž‹å’Œ`String`ç±»åž‹é—´çš„è½¬æ¢

  * æ•°å€¼ -&gt; `String`: `&#43; &#34;&#34;`å°±è¡Œ, å’Œ Java ä¸€æ ·
  * `String` -&gt; æ•°å€¼: `s1.toInt`, `s1.toFloat`, `s1.toDouble`, `s1.toByte`, `s1.toLong`, `s1.toShort`


---

> ä½œè€…:   
> URL: https://buli-home.cn/scala_2/  

