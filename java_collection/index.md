# Javaé›†åˆ


<!--more-->



> ä»Šå¤©è¿›è¡Œäº†ä¸€åœºé¢è¯•, é¢è¯•å®˜åœ¨é—®æˆ‘å…³äº`HashMap`çš„æ—¶å€™, æ„Ÿè§‰è‡ªå·±å›ç­”çš„ä¸æ˜¯å¾ˆå¥½, æ‰€ä»¥ç°åœ¨ç´¢æ€§å°±æ¢³ç†ä¸€ä¸‹Javaå…³äºé›†åˆçš„è¿™éƒ¨åˆ†çŸ¥è¯†.
>
> ä¸»è¦æ˜¯é—®äº†è¿™ä¹ˆå‡ ä¸ªé—®é¢˜:
>
> 1. `HashMap`æ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆ
> 2. é‚£çº¿ç¨‹å®‰å…¨çš„mapæ˜¯å“ªç§?
> 3. åœ¨å®šä¹‰`HashMap`çš„æ—¶å€™ä¼šæœ‰å®šä¹‰é•¿åº¦çš„ä¹ æƒ¯ä¹ˆ? 
> 4. `HashMap`çš„åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„? 
> 5. `HashMap`æ˜¯å¦‚ä½•å­˜å‚¨çš„? 
> 6. `HashMap`æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘? æˆ–è€…è¯´æ˜¯è¾¾åˆ°å¤šå¤§çš„é•¿åº¦å°±éœ€è¦æ‰©å®¹äº†?  (è¿™ä¸ªæ²¡ç­”ä¸Šæ¥...ğŸ˜­)



<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://cdn.jsdelivr.net/gh/immustard/gallery/pictures/2022-02/202202242122780.png" width = "85%" alt="" onclick="window.open(this.src)"/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      è¯´åˆ°Javaçš„Collectionå°±ä¸€å®šä¼šæ”¾å‡ºè¿™å¼ ç¥å›¾
  	</div>
</center>




æ ¹æ®è¿™å¼ å›¾èƒ½å‘ç°, è¿™ä¸€åˆ‡çš„ä¸€åˆ‡éƒ½èµ·å§‹äº`Iterable`æ¥å£. 



## Iterable

ä»æºç é‡Œèƒ½çœ‹åˆ°, è¿™ä¸ªæ¥å£å…è®¸å¯¹è±¡æˆä¸º`for-each`çš„å¾ªç¯ç›®æ ‡, ä¹Ÿå°±æ˜¯å¢å¼ºå‹`for`å¾ªç¯, æ˜¯Javaä¸­çš„ä¸€ç§[è¯­æ³•ç³–](../syntacticsugar). 

```java
List<Object> list = new ArrayList();
// è¡¥å……: æ•°ç»„ä¹Ÿå¯`for-each`éå†
// Object[] list = new Object[5];

for (Object obj: list) {}
```

#### å…¶ä»–éå†æ–¹å¼

**JDK 1.8** ä¹‹å‰, `Iterable`åªæœ‰ä¸€ä¸ªæ–¹æ³•:

```java
Iterator<T> iterator();
```

è¿™ä¸ªæ¥å£èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„è¿­ä»£å™¨, ç”¨äº**å®‰å…¨çš„**éå†å…ƒç´ , ç§»é™¤å…ƒç´ , æ·»åŠ å…ƒç´ . å…¶ä¸­æ¶‰åŠäº†ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯[fail-fast](../failfast).

æ€»ç»“èµ·æ¥å°±æ˜¯: **èƒ½åˆ›å»ºè¿­ä»£å™¨è¿›è¡Œå…ƒç´ æ·»åŠ å’Œåˆ é™¤çš„è¯, å°±å°½é‡ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œæ·»åŠ å’Œåˆ é™¤æ“ä½œ**.

```java
for (Iterator it = list.iterator(); it.hasNext(); ) {
	System.out.println(it.next());
}
```



## é¡¶å±‚æ¥å£

`Collection`æ˜¯ä¸€ä¸ªé¡¶å±‚æ¥å£, ä¸»è¦æ˜¯ç”¨æ¥å®šä¹‰é›†åˆçš„çº¦å®š. 

`List`æ¥å£ä¹Ÿæ˜¯ä¸€ä¸ªé¡¶å±‚æ¥å£, ç»§æ‰¿äº†`Collection`æ¥å£, åŒæ—¶ä¹Ÿæ˜¯`ArrayList`, `LinkedList`ç­‰é›†åˆå…ƒç´ çš„çˆ¶ç±». 

`Set`æ¥å£ä½äºä¸`List`æ¥å£åŒçº§çš„å±‚æ¬¡ä¸Š, å®ƒåŒäº‹ä¹Ÿç»§æ‰¿äº†`Collection`æ¥å£. `Set`æ¥å£æä¾›äº†é¢å¤–çš„è§„å®š. å¯¹`add()`, `equals()`, `hashCode()`æ–¹æ³•æä¾›äº†é¢å¤–çš„æ ‡å‡†. 

`Queue`æ˜¯å’Œ`List`, `Set`æ¥å£å¹¶åˆ—çš„`Collection`çš„**ä¸‰å¤§æ¥å£**ä¹‹ä¸€. `Queue`çš„è®¾è®¡ç”¨æ¥åœ¨å¤„ç†ä¹‹å‰ä¿æŒå…ƒç´ çš„è®¿é—®æ¬¡åº. é™¤äº†`Collection`åŸºç¡€çš„æ“ä½œå¤–, å¯¹ç«‹æä¾›äº†é¢å¤–çš„æ’å…¥, è¯»å–, æ£€æŸ¥æ“ä½œ. 

`SortSet`æ¥å£ç›´æ¥ç»§æ‰¿ä¸`Set`æ¥å£,  ä½¿ç”¨`Comparable`å¯¹å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºæˆ–è€…ä½¿ç”¨`Comparator`åœ¨åˆ›å»ºæ—¶å¯¹å…ƒç´ æä¾›**å®šåˆ¶çš„**æ’åºè§„åˆ™. `set`çš„è¿­ä»£å™¨å°†æŒ‰å‡åºå…ƒç´ é¡ºåºéå†é›†åˆ. 

`Map`æ˜¯ä¸€ä¸ªæ”¯æŒ`key-value`å­˜å‚¨çš„å¯¹è±¡, `Map`ä¸èƒ½åŒ…å«é‡å¤çš„`key`, æ¯ä¸ªé”®æœ€å¤šæ˜ å°„ä¸€ä¸ªå€¼. è¿™ä¸ªæ¥å£æ›¿ä»£äº†`Dictionary`ç±», `Dictionary`æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»è€Œä¸æ˜¯æ¥å£. 



## ArrayList

`ArrayList`æ˜¯å®ç°`List`æ¥å£çš„**å¯æ‰©å®¹æ•°ç»„(åŠ¨æ€æ•°ç»„)**, å®ƒçš„å†…éƒ¨æ˜¯åŸºäºæ•°ç»„å®ç°çš„, å…·ä½“çš„å®šä¹‰: 

```java
public class ArrayList<E> extends AbstractList<E> implements List<E>, RandomAccess, Cloneable, java.io.Serializable {...}
```

* `ArrayList`å¯ä»¥å®ç°æ‰€æœ‰å¯é€‰æ‹©çš„åˆ—è¡¨æ“ä½œ, å…è®¸æ‰€æœ‰å…ƒç´  **(åŒ…æ‹¬** `null`**)**. `ArrayList`è¿˜æä¾›äº†å†…éƒ¨å­˜å‚¨`list`çš„æ–¹æ³•, å®ƒèƒ½å¤Ÿå®Œå…¨æ›¿ä»£`Vector`, åªæœ‰ä¸€ç‚¹ä¾‹å¤–, `ArrayList`**ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨**. 

  > ä¸‹é¢ä¼šè¯´åˆ°`Vector`

* `ArrayList`æœ‰ä¸€ä¸ªå®¹é‡çš„æ¦‚å¿µ, è¿™ä¸ªæ•°ç»„çš„å®¹é‡å°±æ˜¯`List`ç”¨æ¥å­˜å‚¨å…ƒç´ çš„å®¹é‡. 

  > åœ¨ä¸å£°æ˜å®¹é‡çš„æ—¶å€™, é»˜è®¤çš„æ˜¯10. å½“è¾¾åˆ°å½“å‰å®¹é‡ä¸Šé™çš„æ—¶å€™, å°±ä¼šè¿›è¡Œæ‰©å®¹, è´Ÿè½½å› å­ä¸º0.5, å³:
  >
  > ```
  > æ—§å®¹é‡ * 1.5 ==> 10->15->22->33...
  > ```

  `ArrayList`çš„ä¸Šé™ä¸º`Integer.MAX_VALUE - 8`(2<sup>32</sup> - 8). 

* `ArrayList`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨, æ‰€ä»¥å¯ä»¥ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„`List`:

  ```java
  List list = Collections.synchronizedList(new ArrayList<>());
  ```

* `ArrayList`å…·æœ‰[fail-fast](../failfast)å¿«é€Ÿå¤±è´¥æœºåˆ¶, å½“åœ¨è¿­ä»£é›†åˆçš„è¿‡ç¨‹ä¸­, è¯¥é›†åˆå‘æˆäº†æ”¹å˜çš„æ—¶å€™, å°±**å¯èƒ½**ä¼šå‘ç”Ÿ`fail-fast`, æŠ›å‡º`ConcurrentModificationException`å¼‚å¸¸. 



## Vector

Javaä¸­çš„[Vector](https://baike.baidu.com/item/Vector/3330482#1_2)ç±»æ˜¯å…è®¸ä¸åŒç±»å‹å…±å­˜çš„å˜é•¿æ•°ç»„, Java.util.Vectoræä¾›äº†å‘é‡(`Vector`)ç±»ä»¥å®ç°ç±»ä¼¼åŠ¨æ€æ•°ç»„çš„åŠŸèƒ½. åœ¨ç›¸å¯¹äº`ArrayList`æ¥è¯´, `Vector`çº¿ç¨‹æ˜¯å®‰å…¨çš„, ä¹Ÿå°±æ˜¯è¯´æ˜¯åŒæ­¥çš„. å› ä¸º`Vector`å¯¹å†…éƒ¨çš„æ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ç®€å•ç²—æš´çš„ä¸Šé”, æ‰€ä»¥è®¿é—®å…ƒç´ çš„æ•ˆç‡**è¿œè¿œä½äº**`ArrayList`. 

è¿˜æœ‰ä¸€ç‚¹åœ¨æ‰©å®¹ä¸Š, `ArrayList`æ‰©å®¹åçš„æ•°ç»„é•¿åº¦ä¼šå¢åŠ 50%, è€Œ`Vector`çš„æ‰©å®¹é•¿åº¦åæ•°ç»„æ˜¯ç¿»å€. 



## LinkedList

`LinkedList`æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨, å…è®¸æ‰€æœ‰å…ƒç´  **(åŒ…æ‹¬** `null`**)**:

* `LinkedList`æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥è¡¨ç°ä¸º**åŒå‘æ€§**, ç´¢å¼•åˆ°é“¾è¡¨çš„æ“ä½œå°†éå†ä»å¤´åˆ°å°¾, çœ‹é‚£ä¸ªè·ç¦»çŸ­ä¸ºéå†é¡ºåº. 

* `LinkedList`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨, æ‰€ä»¥å¯ä»¥ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„`Set`:

  ```java
  List list = Collections.synchronizedList(new LinkedList<>());
  ```

* å› ä¸º`LinkedList`æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨, æ‰€ä»¥æ²¡æœ‰åˆå§‹åŒ–å¤§å°, æ²¡æœ‰æ‰©å®¹æœºåˆ¶. 



## Stack

å †æ ˆ(`Stack`)å°±æ˜¯å¸¸è¯´çš„**åå…¥å…ˆå‡º**çš„å®¹å™¨. å®ƒç»§æ‰¿äº†`Vector`ç±», æä¾›äº†å¸¸ç”¨çš„`pop`, `push`å’Œ`peek`æ“ä½œ, ä»¥åŠåˆ¤æ–­`stack`æ˜¯å¦ä¸ºç©ºçš„`empty`æ–¹æ³•å’Œå¯»æ‰¾ä¸æ ˆé¡¶è·ç¦»çš„`search`æ–¹æ³•. 



## HashSet

* `HashSet`æ˜¯`Set`æ¥å£çš„å®ç°ç±», æœ‰å“ˆå¸Œè¡¨æ”¯æŒ **(å®é™…ä¸Š**`HashSet`**æ˜¯**`HashMap`**çš„ä¸€ä¸ªå®ä¾‹)**, ä¸èƒ½ä¿è¯é›†åˆçš„è¿­ä»£é¡ºåº. å…è®¸æ‰€æœ‰å…ƒç´  **(åŒ…æ‹¬** `null`**)**. 

* `HashSet`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨, æ‰€ä»¥å¯ä»¥ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„`Set`:

  ```java
  Set set = Collections.synchronizedSet(new HashSet<>());
  ```

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 

* å› ä¸º`HashSet`çš„åº•å±‚å®é™…ä½¿ç”¨`HashMap`å®ç°çš„, æ‰€ä»¥å’Œ`HashMap`çš„å®¹é‡å’Œæ‰©å®¹æœºåˆ¶æ˜¯ä¸€è‡´çš„: 

  > åœ¨ä¸å£°æ˜å®¹é‡çš„æ—¶å€™, é»˜è®¤çš„æ˜¯16. å½“è¾¾åˆ°å½“å‰å®¹é‡ä¸Šé™çš„æ—¶å€™, å°±ä¼šè¿›è¡Œæ‰©å®¹, è´Ÿè½½å› å­ä¸º0.75, å³:
  >
  > ```
  > æ—§å®¹é‡ * 1.75 ==> 16->28->49->85...
  > ```



## TreeSet

`TreeSet`æ˜¯ä¸€ä¸ªåŸºäº`TreeMap`çš„`NavigableSet`å®ç°. è¿™äº›å…ƒç´ ä½¿ç”¨ä»–ä»¬çš„è‡ªç„¶æ’åºæˆ–è€…åœ¨åˆ›å»ºæ—¶æä¾›çš„`Comparator`è¿›è¡Œæ’åº, å…·ä½“å–å†³äºä½¿ç”¨çš„æ„é€ å‡½æ•°. 

* æ­¤å®ç°ä¸ºåŸºæœ¬æ“ä½œ`add`, `remove`, `contains`æä¾›äº†`log(n)`çš„æ—¶é—´æˆæœ¬. 
* `HashSet`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## LinkedHashSet

<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://cdn.jsdelivr.net/gh/immustard/gallery/pictures/2022-02/202202260717202.png" width = "65%" alt="" onclick="window.open(this.src)"/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      LinkedHashSetç»§æ‰¿ä½“ç³»
  	</div>
</center>


`LinkedHashSet`æ˜¯`Set`æ¥å£çš„`Hash`è¡¨å’Œ`LinkedList`çš„å®ç°. ä½†æ˜¯è¿™ä¸ªå®ç°ä¸åŒäº`HashSet`çš„æ˜¯, å®ƒç»´æŠ¤è€…ä¸€ä¸ªè´¯ç©¿æ‰€æœ‰æ¡ç›®çš„åŒå‘åˆ—è¡¨. æ­¤é“¾è¡¨å®šä¹‰äº†å…ƒç´ æ’å…¥é›†åˆçš„é¡ºåº. **æ³¨æ„: å¦‚æœå…ƒç´ é‡æ–°æ’å…¥, åˆ™æ’å…¥é¡ºåºä¸ä¼šå—åˆ°å½±å“**. 

* `LinkedHashSet`æœ‰ä¸¤ä¸ªå½±å“å…¶æ„æˆçš„å‚æ•°: åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­. å®ƒä»¬çš„å®šä¹‰ä¸`HashSet`å®Œå…¨ç›¸åŒ. ä½†æ˜¯å¯¹äº`LinkedHashSet`, é€‰æ‹©è¿‡é«˜çš„åˆå§‹å®¹é‡å€¼çš„å¼€é”€è¦æ¯”`HashSet`å°, å› ä¸º`LinkedHashSet`çš„è¿­ä»£æ¬¡æ•°ä¸æ”¶å®¹é‡å½±å“. 
* `LinkedHashSet`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## PriorityQueue

`PriorityQueue`(ä¼˜å…ˆçº§é˜Ÿåˆ—)æ˜¯`AbstractQueue`çš„å®ç°ç±», å…¶ä¸­çš„å…ƒç´ æ ¹æ®è‡ªç„¶æ’åº(æœ€å°å…ƒç´ æœ€å…ˆå‡º)æˆ–è€…é€šè¿‡æ„é€ å‡½æ•°æ—¶æœŸæä¾›çš„`Comparator`æ¥æ’åº, å…·ä½“æ ¹æ®æ„é€ å™¨åˆ¤æ–­. **æ³¨æ„**: `PriorityQueue`**ä¸å…è®¸**`null`**å…ƒç´ **. 

* é˜Ÿåˆ—çš„å¤´åœ¨æŸç§æ„ä¹‰ä¸Šæ˜¯æŒ‡å®šé¡ºåºçš„æœ€åä¸€ä¸ªå…ƒç´ . é˜Ÿåˆ—æŸ¥æ‰¾æ“ä½œ`poll`, `remove`, `peek`å’Œ`element`è®¿é—®é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ . 
* `PriorityQueue`æ˜¯æ— ç•Œé˜Ÿåˆ—(æ— é™åˆ¶çš„), ä½†æ˜¯æœ‰å†…éƒ¨`capacity`, ç”¨æˆ·æ§åˆ¶ç”¨äºåœ¨é˜Ÿåˆ—ä¸­å­˜å‚¨å…ƒç´ çš„æ•°ç»„å¤§å°. 
* è¯¥ç±»ä»¥åŠè¿­ä»£å™¨å®ç°äº†`Collection`, `Iterator`æ¥å£çš„æ‰€æœ‰å¯é€‰æ–¹æ³•. è¿™ä¸ªè¿­ä»£å™¨æä¾›äº†`iterator()`æ–¹æ³•ä¸èƒ½ä¿è¯ä»¥ä»»ä½•ç‰¹å®šé¡ºåºéå†`PriorityQueue`. å¦‚æœéœ€è¦æœ‰åºéå†çš„è¯, å¯ä»¥è€ƒè™‘ä½¿ç”¨`Arrays.sort(pq.toArray())`. 
* `PriorityQueue`å¿…é¡»å­˜å‚¨çš„å¯æ¯”è¾ƒçš„å¯¹è±¡, å¦‚æœä¸æ˜¯çš„è¯, åˆ™å¿…é¡»æŒ‡å®šæ¯”è¾ƒå™¨. 
* `PriorityQueue`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨, è€Œçº¿ç¨‹å®‰å…¨çš„ç±»æ˜¯`PriorityBlockingQueue`. 



## HashMap

`HashMap`æ˜¯ä¸€ä¸ªåˆ©ç”¨å“ˆå¸Œè¡¨åŸç†æ¥å­˜å‚¨å…ƒç´ çš„é›†åˆ, å…è®¸ç©ºçš„`key-value`é”®å€¼å¯¹. 

* `HashMap`çš„é»˜è®¤åˆå§‹ç”¨é‡å’Œè´Ÿè½½å› å­å’Œ`HashSet`ä¸€è‡´. 
* `HashMap`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 



## TreeMap

ä¸€ä¸ªåŸºäº`NavigableMap`å®ç°çš„çº¢é»‘æ ‘. è¿™ä¸ª`map`æ ¹æ®`key`è‡ªè®¤æ’åºå­˜å‚¨, æˆ–è€…é€šè¿‡`Comparator`è¿›è¡Œå®šåˆ¶æ’åº. 

* `TreeMap`ä¸º`containsKey`,`get`,`put`å’Œ`remove`æ–¹æ³•æä¾›äº†`log(n)`çš„æ—¶é—´å¼€é”€. 

* `TreeMap`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## LinkedHashMap

`LinkedHashMap`æ˜¯`Map`æ¥å£çš„å“ˆå¸Œè¡¨å’Œé“¾è¡¨çš„å®ç°. è¿™ä¸ªå®ç°ä¸`HashMap`çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒç»´æŠ¤äº†ä¸€ä¸ªè´¯ç©¿å…¶æ‰€æœ‰æ¡ç›®çš„åŒå‘é“¾è¡¨. è¿™ä¸ªé“¾è¡¨ä¸­å®šä¹‰çš„é¡ºåº, é€šå¸¸æ˜¯æ’å…¥çš„é¡ºåº. 

* æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„æ„é€ å™¨: `LinkedHashMap(int,float,boolean)`, å…¶éå†çš„é¡ºåºæ˜¯å…¶æœ€åä¸€æ¬¡è®¿é—®çš„é¡ºåº. 
* å¯ä»¥é‡å†™`removeEldestEntry(Map.Entry)`æ–¹æ³•, ä»¥ä¾¿åœ¨å°†æ–°æ˜ å°„æ·»åŠ åˆ°`map`æ—¶å¼ºåˆ¶åˆ é™¤è¿‡æœŸæ˜ å°„çš„ç­–ç•¥. 
* è¿™ä¸ªç±»æä¾›äº†æ‰€æœ‰å¯é€‰æ‹©çš„`map`æ“ä½œ, å¹¶ä¸”å…è®¸`null`å…ƒç´ . ç”±äºç»´æŠ¤é“¾è¡¨çš„é¢å¤–å¼€é”€, æ€§èƒ½**å¯èƒ½**ä¼šä½äº`HashMap`, æœ‰ä¸€æ¡é™¤å¤–: éå†`LinkedHashMap`ä¸­çš„`collection-views`éœ€è¦ä¸`map.size`æˆæ­£æ¯”, æ— è®ºå…¶å®¹é‡å¦‚ä½•. `HashMap`çš„è¿­ä»£çœ‹èµ·æ¥å¼€é”€æ›´å¤§, å› ä¸ºè¿˜è¦æ±‚æ—¶é—´ä¸å…¶å®¹é‡æˆæ­£æ¯”.
*  `LinkedHashMap`æœ‰ä¸¤ä¸ªå› ç´ å½±å“äº†å®ƒçš„æ„æˆ: åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­. 

* `LinkedHashMap`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## HashTable

ä¸`HashMap`ä¸åŒçš„æ˜¯, `HashTable`**æ˜¯çº¿ç¨‹å®‰å…¨çš„**. ä»»ä½•éç©ºå¯¹è±¡éƒ½å¯ä»¥ç”¨ä½œé”®æˆ–å€¼. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## IdentityHashMap

`IdentityHashMap` æ˜¯ä¸€ä¸ªæ¯”è¾ƒå°ä¼—çš„`Map`å®ç°ç±». 

* `IdentityHashMap`ä¸æ˜¯ä¸€ä¸ªé€šç”¨çš„`Map`å®ç°, è™½ç„¶è¿™ä¸ªç±»å®ç°äº†`Map`æ¥å£, ä½†æ˜¯å®ƒæ•…æ„è¿åäº†`Map`çš„çº¦å®š, è¯¥çº¦å®šè¦æ±‚åœ¨æ¯”è¾ƒå¯¹è±¡æ—¶ä½¿ç”¨`equals`æ–¹æ³•, æ­¤ç±»ä»…é€‚ç”¨äºéœ€è¦å¼•ç”¨ç›¸ç­‰è¯­ä¹‰çš„æå°‘æ•°æƒ…å†µ. 

* `IdentityHashMap`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨. 

* æ”¯æŒ[fail-fast](../failfast)æœºåˆ¶. 



## WeakHashMap

`WeakHashMap`ç±»åŸºäºå“ˆå¸Œè¡¨çš„`Map`åŸºç¡€å®ç°, å¸¦æœ‰å¼±é”®. `WeakHashMap`ä¸­çš„`entry`å½“ä¸å†ä½¿ç”¨æ—¶è¿˜ä¼šè‡ªåŠ¨ç§»é™¤. ä¹Ÿå°±æ˜¯è¯´, `WeakHashMap`ä¸­çš„`entry`ä¸ä¼šå¢åŠ å…¶å¼•ç”¨è®¡æ•°.

* åŸºäº`map`æ¥å£, æ˜¯ä¸€ç§å¼±é”®ç›¸è¿, `WeakHashMap`é‡Œé¢çš„é”®ä¼šè‡ªåŠ¨å›æ”¶. 
* æ”¯æŒ`null`é”®å’Œ`null`å€¼.
* æ”¯æŒ`fail-fast`æœºåˆ¶
* `WeakHashMap`ç»å¸¸ç”¨ä½œç¼“å­˜. 



## é›†åˆå®ç°ç±»ç‰¹å¾å›¾

ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ±‡æ€»äº†éƒ¨åˆ†é›†åˆæ¡†æ¶çš„ä¸»è¦å®ç°ç±»çš„ç‰¹å¾



|         é›†åˆ         | æ’åº | éšæœºè®¿é—® | `key-value`å­˜å‚¨ | é‡å¤å…ƒç´  | ç©ºå…ƒç´  | çº¿ç¨‹å®‰å…¨ |
| :------------------: | :--: | :------: | :-------------: | :------: | :----: | :------: |
|      ArrayList       |  âœ…   |    âœ…     |        âŒ        |    âœ…     |   âœ…    |    âŒ     |
|      LinkedList      |  âœ…   |    âŒ     |        âŒ        |    âœ…     |   âœ…    |    âŒ     |
|       HashSet        |  âŒ   |    âŒ     |        âŒ        |    âŒ     |   âœ…    |    âŒ     |
|       TreeSet        |  âœ…   |    âŒ     |        âŒ        |    âŒ     |   âŒ    |    âŒ     |
|       HashMap        |  âŒ   |    âœ…     |        âœ…        |    âŒ     |   âœ…    |    âŒ     |
|       TreeMap        |  âœ…   |    âœ…     |        âœ…        |    âŒ     |   âŒ    |    âŒ     |
|        Vector        |  âœ…   |    âœ…     |        âŒ        |    âœ…     |   âœ…    |    âœ…     |
|      HashTable       |  âŒ   |    âœ…     |        âœ…        |    âŒ     |   âŒ    |    âœ…     |
|  ConcurrentHashMap   |  âŒ   |    âœ…     |        âœ…        |    âŒ     |   âŒ    |    âœ…     |
|        Stack         |  âœ…   |    âŒ     |        âŒ        |    âœ…     |   âœ…    |    âœ…     |
| CopyOnWriteArrayList |  âœ…   |    âœ…     |        âŒ        |    âœ…     |   âœ…    |    âœ…     |


