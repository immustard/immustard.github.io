# XSS(è·¨ç«™è„šæœ¬æ”»å‡»)


&lt;!--more--&gt;



&gt; æ˜¨å¤©çš„æ—¶å€™, éƒ¨é—¨è€å¤§æåˆ°sessionå’ŒOnceTokençš„æ—¶å€™, è¯´åˆ°äº†xssæ”»å‡»å’Œcsrfæ”»å‡». ä»Šå¤©è®°å½•ä¸€ä¸‹å­¦ä¹ çš„å†…å®¹. 



### ä»€ä¹ˆæ˜¯XSSæ”»å‡»

XSSæ”»å‡»å…¨ç§°è·¨ç«™è„šæœ¬æ”»å‡»(Cross Site Scripting), æ˜¯ä¸€ç§åœ¨Webåº”ç”¨ä¸­çš„è®¡ç®—æœºå®‰å…¨æ¼æ´ž, å®ƒå…è®¸æ¶æ„Webç”¨æˆ·å°†ä»£ç æ¤å…¥åˆ°æä¾›ç»™å…¶ä»–ç”¨æˆ·ä½¿ç”¨çš„æ­£å¸¸é¡µé¢ä¸­. 

&gt; ä¹‹æ‰€ä»¥ç¼©å†™æ˜¯XSS, æ˜¯å› ä¸ºå¦‚æžœæ˜¯CSSä¼šå’Œå±‚å æ ·å¼è¡¨æ··æ·†(Cascading Style Sheets). 

ä¸¾ä¸ªç®€å•çš„ðŸŒ°, æ¶æ„æœåŠ¡å™¨åµŒå¥—äº†æ­£å¸¸æœåŠ¡å™¨ä¸­æŸé¡µé¢çš„æŸformè¡¨å•. å½“ç”¨æˆ·ç™»å½•äº†æ­£å¸¸æœåŠ¡å™¨ä¹‹åŽ, åœ¨æ¶æ„æœåŠ¡å™¨ä¸Šä¹Ÿå¯ä»¥æäº¤è¿™ä¸ªè¡¨å•, ç”šè‡³æ‹¿åˆ°æ›´é«˜çš„æƒé™. 

XSSæ˜¯**æœ€æ™®é**çš„Webåº”ç”¨å®‰å…¨æ¼æ´ž. å¯ä»¥åšåˆ°åŠ«æŒç”¨æˆ·ä¼šè¯, æ’å…¥æ¶æ„å†…å®¹, é‡å®šå‘ç”¨æˆ·, ä½¿ç”¨æ¶æ„è½¯ä»¶åŠ«æŒç”¨æˆ·æµè§ˆå™¨, ç¹æ®–[XSSè •è™«](https://baike.baidu.com/item/XSSè •è™«/22777013), ç”šè‡³æ˜¯ç ´åç½‘ç«™, ä¿®æ”¹è·¯ç”±å™¨é…ç½®ä¿¡æ¯ç­‰. æ‰€ä»¥XSSæ”»å‡»çš„å±å®³è¿˜æ˜¯å¾ˆä¸¥é‡çš„. 



### XSSåŽŸç†

é¦–å…ˆçœ‹çœ‹XSSå¯ä»¥æ’å…¥å“ªé‡Œ: 

1. scriptæ ‡ç­¾å†…å®¹
2. HTMLæ³¨é‡Šå†…å®¹
3. HTMLæ ‡ç­¾çš„å±žæ€§å
4. HTMLæ ‡ç­¾çš„å±žæ€§å€¼
5. HTMLæ ‡ç­¾çš„åå­—
6. ç›´æŽ¥æ’å…¥åˆ°CSSé‡Œ

çœ‹åˆ°XSSå¯ä»¥æ’å…¥åˆ°è¿™äº›åœ°æ–¹ä¹‹åŽ, å°±æ›´èƒ½ç†è§£å®ƒçš„åŽŸç†. XSSé€šè¿‡ä¸€äº›è¢«ç‰¹æ®Šå¯¹å¾…çš„æ–‡æœ¬å’Œæ ‡è®°(ðŸŒ°, å°äºŽç¬¦å·`&lt;` è¢«çœ‹åšæ˜¯HTMLæ ‡ç­¾çš„å¼€å§‹), ä½¿å¾—ç”¨æˆ·æµè§ˆå™¨å°†è¿™äº›è¯¯è®¤ä¸ºæ˜¯æ’å…¥äº†æ­£å¸¸çš„å†…å®¹, æ‰€ä»¥å°±ä¼šåœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­è¢«æ‰§è¡Œ. ä¹Ÿå°±æ˜¯è¯´, å½“è¿™äº›ç‰¹æ®Šå­—ç¬¦ä¸èƒ½è¢«åŠ¨æ€é¡µé¢æ£€æŸ¥æˆ–æ£€æŸ¥å‡ºçŽ°å¤±è¯¯æ—¶, å°±å°†ä¼šäº§ç”ŸXSSæ¼æ´ž. 



### åˆ†ç±»

* **å­˜å‚¨åž‹XSSæ”»å‡»(æŒä¹…åž‹)**: æœ€ç›´æŽ¥çš„å±å®³ç±»åž‹. å°†XSSä»£ç æäº¤å­˜å‚¨åˆ°æœåŠ¡å™¨ç«¯(**æ•°æ®åº“**, å†…å­˜, æ–‡ä»¶ç³»ç»Ÿç­‰). è¿™æ ·ä¸‹æ¬¡è¯·æ±‚ç›®æ ‡é¡µé¢æ—¶å°±ä¸ç”¨å†æäº¤XSSä»£ç , ä¼šä»ŽæœåŠ¡å™¨èŽ·å–. ä¸€èˆ¬å‡ºçŽ°åœ¨ç•™è¨€, è¯„è®º, åšå®¢æ—¥å¿—ç­‰äº¤äº’. 

  &lt;center&gt;
      &lt;img style=&#34;border-radius: 0.3125em;
      box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
      src=&#34;https://cdn.jsdelivr.net/gh/immustard/gallery/pictures/2022-02/202202230947946.png&#34; width = &#34;65%&#34; alt=&#34;&#34; onclick=&#34;window.open(this.src)&#34;/&gt;
      &lt;br&gt;
      &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
      display: inline-block;
      color: #999;
      padding: 2px;&#34;&gt;
        å­˜å‚¨åž‹XSSæ”»å‡»
    	&lt;/div&gt;
  &lt;/center&gt;

* **åå°„æ€§XSSæ”»å‡»(éžæŒä¹…åž‹):** æœ€æ™®éçš„ç±»åž‹. é€šè¿‡ç‰¹å®šæ‰‹æ³•(ðŸŒ°email), è¯±ä½¿ç”¨æˆ·è®¿é—®ä¸€ä¸ªåŒ…å«æ¶æ„ä»£ç çš„åœ°å€, å½“ç”¨æˆ·ç‚¹å‡»è¿™äº›é“¾æŽ¥çš„æ—¶å€™, æ¶æ„ä»£ç ä¼šåœ¨ç”¨æˆ·çš„æµè§ˆå™¨æ‰§è¡Œ. ä¸€èˆ¬å‡ºçŽ°åœ¨æœç´¢æ , ç”¨æˆ·ç™»å½•å£, å¸¸ç”¨æ¥çªƒå–å®¢æˆ·ç«¯Cookiesæˆ–è¿›è¡Œé’“é±¼æ¬ºéª—. 

  &lt;center&gt;
      &lt;img style=&#34;border-radius: 0.3125em;
      box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
      src=&#34;https://cdn.jsdelivr.net/gh/immustard/gallery/pictures/2022-02/202202230934435.png&#34; width = &#34;65%&#34; alt=&#34;&#34; onclick=&#34;window.open(this.src)&#34;/&gt;
      &lt;br&gt;
      &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
      display: inline-block;
      color: #999;
      padding: 2px;&#34;&gt;
        åå°„åž‹XSSæ”»å‡»
    	&lt;/div&gt;
  &lt;/center&gt;

* **DOM-based åž‹XSSæ”»å‡»:** é€šè¿‡/xssä¿®æ”¹é¡µé¢çš„DOM(Document Object Model)ç»“æž„, æ˜¯çº¯ç²¹å‘ç”Ÿåœ¨å®¢æˆ·ç«¯çš„æ”»å‡». åœ¨æ•´ä¸ªæ”»å‡»è¿‡ç¨‹ä¸­, æœåŠ¡å™¨å“åº”çš„é¡µé¢æ²¡æœ‰å‘ç”Ÿå˜åŒ–, å–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç éƒ½ç”±æµè§ˆå™¨ç«¯å®Œæˆ, å±žäºŽå‰ç«¯è‡ªèº«çš„å®‰å…¨æ¼æ´ž. 



### é˜²å¾¡æ‰‹æ®µ

**æ€»ä½“æ€è·¯: å¯¹ç”¨æˆ·çš„è¾“å…¥(å’ŒURLå‚æ•°)è¿›è¡Œè¿‡æ»¤, å¯¹è¾“å‡ºè¿›è¡Œç¼–ç .**

ä¹Ÿå°±æ˜¯è¯´, å¯¹ç”¨æˆ·æäº¤çš„æ‰€æœ‰å†…å®¹è¿›è¡Œè¿‡æ»¤, å¯¹URLä¸­çš„å‚æ•°è¿›è¡Œè¿‡æ»¤, è¿‡æ»¤æŽ‰ä¼šå¯¼è‡´è„šæœ¬æ‰§è¡Œçš„ç›¸å…³å†…å®¹; ç„¶åŽå¯¹åŠ¨æ€è¾“å‡ºåˆ°é¡µé¢çš„å†…å®¹è¿›è¡Œhtmlç¼–ç , ä½¿è„šæœ¬æ— æ³•åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œ. è¿˜å¯ä»¥æœåŠ¡ç«¯è®¾ç½®ä¼šè¯Cookieçš„HTTP Onlyå±žæ€§, è¿™æ ·å®¢æˆ·ç«¯çš„JSè„šæœ¬å°±ä¸èƒ½èŽ·å–Cookieä¿¡æ¯äº†. 


---

> ä½œè€…:   
> URL: https://buli-home.cn/xss/  

